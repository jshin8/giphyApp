<template name='home'>
	<div class='header'>
		<div class='titleContainer'>
			<div id='appTitle'>Giphy App</div>
		</div>

		<div class='searchContainer'>
			{{> search}}
		</div>
	</div>
	{{#if loading}}
		<div class="ui active loader"></div>
	{{else}}
		{{#if searchResults}}
			<div class='resultsContainer'>
				{{#if $eq searchResults 'empty'}}
					No Results
				{{else}}
					{{> gifWindow searchResults=searchResults}}
				{{/if}}
			</div>
		{{/if}}
	{{/if}}
	{{#if hoverData}}
		{{> gifModal data=hoverData}}
	{{/if}}
</template>

<template name='search'>
	<div class='ui icon input' id='gifSearch'>
		<input type="text" name='search' placeholder="Search...">
		<i class='inverted circular search link icon'></i>
	</div>
</template>

<template name='gifWindow'>
	<div id='gifWindow' style='height:{{dynamicHeight}}px;'>
		{{#each searchResults}}
			{{> gifCard}}
		{{/each}}
	</div>
</template>

<template name='gifCard'>
	<div class='ui card'>
		<div class='image'>
			<img src='{{images.fixed_height_small.gif_url}}'>
			{{#if $eq hover this.id}}
				<i class='info circle icon'></i>
			{{/if}}
		</div>
	</div>
	<!-- <div class='content'></div> -->
</template>

<template name='gifModal'>
	<div class="ui modal">
		<div class="header">
			{{gifTitle}}
			{{#with data.user}}
				<div class='userName'>{{display_name}}</div>
			{{/with}}
		</div>
		<div class='content'>
			<div class='image'>
				<img src='{{data.images.fixed_height.gif_url}}'>
			</div>
			<div class='details'>
				<div class='uploaded'>
					<span class='detailTitle'>Uploaded: </span>
					{{uploaded}}
				</div>
				<div class='rating'>
					<span class='detailTitle'>Rating: </span>
					<span style='text-transform:uppercase;'>{{rating}}</span>
				</div>
				<div class='url'>
					<span class='detailTitle'>Short URL: </span> 
					<span id='shortUrl'>{{shortUrl}}</span>
					<div class='tiny ui button' id='copyShort' style='font-size:9px;'>Copy</div>
				</div>
				{{#if source}}
					<div class='url' style='max-width:300px;line-height:20px;'>
						<span class='detailTitle'>Source: </span> 
						<a href='{{source}}' target='_blank'>{{source}}</a>
					</div>
				{{/if}}
			</div>
		</div>
		<div class="actions">
			<div class="ui black deny button">
			  Close
			</div>
		</div>
	</div>
</template>

